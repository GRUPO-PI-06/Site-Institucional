<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Orchid</title>
    <link rel="stylesheet" href="assets/css/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
    <div class="container-dashboard">
        <aside class="barra-lateral">
            <button class="btn-expandir"><i class="fas fa-bars"></i></button>
            <nav class="navbar" id="nav_bar">
            </nav>
        </aside>
        <main class="principal">
            <div class="grade-dashboard">
                <div class="coluna-graficos">
                    <div class="grafico-linha"> <canvas id="myChart"></canvas></div>
                    <div class="grafico-pizza">Gráfico de Pizza</div>
                </div>
                <div class="coluna-kpis">
                    <div class="kpi">KPI 1</div>
                    <div class="kpi">KPI 2</div>
                    <div class="kpi">KPI 3</div>
                    <div class="kpi">KPI 4</div>
                    <div class="kpi">KPI 5</div>
                </div>
            </div>
            <div class="barra-legenda">
                <span class="item-legenda">
                    <span class="cor-legenda critica"></span> Crítico
                </span>
                <span class="item-legenda">
                    <span class="cor-legenda moderada"></span> Moderado
                </span>
                <span class="item-legenda">
                    <span class="cor-legenda otima"></span> Ótimo
                </span>
            </div>
        </main>
    </div>
    
</body>
</html>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    window.onload = () =>{
        verificaFuncao();
    }
    const sidebar = document.querySelector('.barra-lateral');
    const btn = document.querySelector('.btn-expandir');
    btn.onclick = () => sidebar.classList.toggle('expandida');
    
    function verificaFuncao(){
        if(sessionStorage.FUNCAO == 'Empresa'){
            nav_bar.innerHTML = 
            `
                <a href="#" class="nav-item selecionado">
                    <i class="fas fa-chart-line"></i> <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-file-alt"></i> <span>Estufas</span>
                </a>
                <a href="formulario_especie.html" class="nav-item">
                    <i class="fas fa-file-alt"></i> <span>Espécies de orquideas</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-chart-line"></i> <span>Sair</span>
                </a>
            `;
        }else{
            nav_bar.innerHTML = 
            `
                <a href="#" class="nav-item selecionado">
                    <i class="fas fa-chart-line"></i> <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item selecionado">
                    <i class="fas fa-chart-line"></i><span>Sair</span>
                </a>
            `;
        }
    }
    const ctx = document.getElementById('myChart');
    var data = [3000, 3500, 3900, 4000, 1900, 3000, 2000];
        const barChart =  new Chart(ctx, {
        type: 'line',
        data: {
        labels: ['Segunda-feira', 'Terça-feira', 'Quarta-feira', 'Quinta-feira', 'Sexta-feira', 'Sabado','Domingo'],
        datasets: [{
        label: 'Lux',
        data: data,
        borderColor: '#6a0dad', 
        backgroundColor:'#afa1e150',
        borderWidth: 1,
        tension: 0.3, 
        fill: true, 
            }]
        },
        options: {
            scales: {
            y: {
                beginAtZero: true
            }
            },
            plugins: {
            legend: {
                position: 'bottom',
                align: 'center'
            },
            title: {
                display: true,
                text: 'Intensidade de luz diaria(em lux)',
                font: {
                size: 18
                }
            }
            }
        }
        });
</script>